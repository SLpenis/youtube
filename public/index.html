<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Visitor Page</title>
  <style>
    body {
      background-color: #000;
      color: #fff;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      text-align: center;
      padding: 0 20px;
    }
    h1 {
      font-size: 48px;
      margin-bottom: 6px;
    }
    h2 {
      font-size: 20px;
      margin-bottom: 6px;
      max-width: 700px;
      line-height: 1.3;
    }
    p {
      font-size: 14px;
      margin-bottom: 12px;
      max-width: 600px;
      line-height: 1.3;
    }
    .form {
      display: flex;
      width: 100%;
      max-width: 600px;
    }
    .form input {
      flex-grow: 1;
      padding: 10px;
      font-size: 14px;
    }
    .form button {
      padding: 10px 20px;
      font-size: 14px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Hello, Dear user!</h1>
  <h2>Thanks for submitting your personal data including ip adress, device name, browser, operating sistem, country and your cookie files. We definitely won't use any of this information in bad purposes. We will not try to impersonalise you, manipulate or ddos your devices and we will not store and sell this data to frauds.</h2>
  <p>If you want us to remove stored information, want to get technical support or deliver us your very important message please leave your contact information as well as the message in the field below and click the submit button</p>

  <div class="form">
    <input type="text" id="userMessage" placeholder="Your message here..." />
    <button onclick="submitMessage()">Submit</button>
  </div>

  <script>
    fetch('/collect');

    async function submitMessage() {
      const input = document.getElementById('userMessage');
      const message = input.value.trim();
      if (!message) return;
      input.disabled = true;
      const btn = document.querySelector('button');
      btn.disabled = true;
      await fetch('/submit', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message })
      });
      input.value = '';
      setTimeout(() => {
        input.disabled = false;
        btn.disabled = false;
      }, 60000);
    }
  </script>
</body>
</html>
